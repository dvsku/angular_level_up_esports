<three-row-grid-layout>
    <div class="container container-shadow bg-white my-5 p-5">
        <div class="row">
            <div class="col-12">
                <h1 class="fc-hover fw-700 text-center">ORDER DETAILS</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div *ngIf="!changeInfo; else notLoggedIn">
                    <div class="row">
                        <div class="col-12 d-flex flex-column">
                            <div class="d-flex flex-column px-3 pb-2">
                                <div>
                                    <span>NAME:</span> {{ order.buyerName }} {{ order.buyerLastName }}
                                    <a class="standard-link-obvious" (click)="changeInformation()">(change)</a>
                                </div>
                                <div>
                                    <span>ADDRESS:</span> {{ order.buyerStreetAndNumber }}, {{ order.buyerCity }}
                                    <a class="standard-link-obvious" (click)="changeInformation()">(change)</a>
                                </div>
                                <div>
                                    <span>ZIP:</span> {{ order.buyerZip }}
                                    <a class="standard-link-obvious" (click)="changeInformation()">(change)</a>
                                </div>
                                <div>
                                    <span>PHONE:</span> {{ order.buyerPhone }}
                                    <a class="standard-link-obvious" (click)="changeInformation()">(change)</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <cart-product-group></cart-product-group>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 d-flex justify-content-end pt-2">
                            <button class="standard-btn standard-btn-primary" type="button">place order</button>
                        </div>
                    </div>
                </div>
                <ng-template #notLoggedIn>
                    <div class="row">
                        <div class="col-12 text-center p-5">To finish checking out please sign in.</div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="d-flex flex-row justify-content-center align-items-center">
                                <div class="or-separator mr-4"></div>
                                <h3 class="fc-hover fw-700 text-center w-100">OR CONTINUE AS GUEST</h3>
                                <div class="or-separator ml-4"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 d-flex justify-content-center">
                            <form #form="ngForm" class="w-50 mt-2" (ngSubmit)="updateInformation()">
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input type="email" [(ngModel)]="tempOrder.buyerEmail" #email="ngModel"
                                        class="form-control" id="email" name="email" required />
                                    <div *ngIf="email.invalid && (email.dirty || email.touched)">
                                        <small *ngIf="email.errors.required">Email is required.</small>
                                        <small *ngIf="email.errors.email">Invalid Email.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="firstname">First Name</label>
                                    <input type="text" [(ngModel)]="tempOrder.buyerName" #firstName="ngModel"
                                        class="form-control" id="firstname" name="firstname" required />
                                    <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
                                        <small *ngIf="firstName.errors.required">First Name is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="lastname">Last Name</label>
                                    <input type="text" [(ngModel)]="tempOrder.buyerLastName" #lastName="ngModel"
                                        class="form-control" id="lastname" name="lastname" required />
                                    <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
                                        <small *ngIf="lastName.errors.required">Last Name is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="city">City</label>
                                    <input type="text" [(ngModel)]="tempOrder.buyerCity" #city="ngModel"
                                        class="form-control" id="city" name="city" required />
                                    <div *ngIf="city.invalid && (city.dirty || city.touched)">
                                        <small *ngIf="city.errors.required">City is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="address">Address</label>
                                    <input type="text" [(ngModel)]="tempOrder.buyerStreetAndNumber" #address="ngModel"
                                        class="form-control" id="address" name="address" required />
                                    <div *ngIf="address.invalid && (address.dirty || address.touched)">
                                        <small *ngIf="address.errors.required">Address is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="zip">Zip</label>
                                    <input type="number" [(ngModel)]="tempOrder.buyerZip" class="form-control" id="zip"
                                        name="zip" #zip="ngModel" required />
                                    <div *ngIf="zip.invalid && (zip.dirty || zip.touched)">
                                        <small *ngIf="zip.errors.required">Zip is required.</small>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="phone">Phone</label>
                                    <input type="text" [(ngModel)]="tempOrder.buyerPhone" #phone="ngModel"
                                        class="form-control" id="phone" name="phone" required />
                                    <div *ngIf="phone.invalid && (phone.dirty || phone.touched)">
                                        <small *ngIf="phone.errors.required">Phone is required.</small>
                                    </div>
                                </div>
                                <button type="submit" [disabled]="!form.form.valid"
                                    class="standard-btn standard-btn-primary btn-block">
                                    continue
                                </button>
                            </form>
                        </div>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</three-row-grid-layout>