<nav class="navbar fixed-top navbar-expand-lg bg-header">
    <button class="navbar-toggler" type="button" (click)="toggleMenu()">
        <fa-icon [icon]="faBars" class="navbar-toggler-icon"></fa-icon>
    </button>
    <a class="navbar-brand" routerLink="/"><img class="logo" src="assets/logo.png" /></a>
    <div [ngbCollapse]="isMenuCollapsed" class="collapse navbar-collapse px-5 mt-5 mt-lg-0">
        <div class="navbar-nav">
            <a class="nav-link" (click)="toggleShop()">SHOP <fa-icon [icon]="faArrowDown" class="d-inline-block">
                </fa-icon></a>
            <div [ngbCollapse]="isShopCollapsed" class="navbar-collapse-details">
                <div class="row py-0 px-3 py-lg-4 px-lg-5">
                    <div class="col-3">
                        <p class="title fw-800 fc-hover d-none d-lg-block">
                            MERCH <span class="fc-first">ORIGINALS</span>
                        </p>
                        <ul class="list-unstyled">
                            <li class="text-left">
                                <a class="standard-link" [routerLink]="['/shop', { category: 'all' }]">ALL</a>
                            </li>
                            <li class="text-left" *ngFor="let category of categories">
                                <a class="standard-link text-uppercase"
                                    [routerLink]="['/shop', { category: category.categoryName.toLowerCase() }]">{{
                                    category.categoryName }}</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-9 wrapper-images d-none d-lg-block">
                        <div class="row pb-2 pt-4 pl-5">
                            <div class="wrapper-shop-items">
                                <a class="shop-item-image scale-small" *ngFor="let product of featuredProducts"
                                    href="shop/product/{{product.productId}}">
                                    <img class="shop-item-image shop-item-image-fixed image-shadow"
                                        [src]="imagesService.getImage(product.productInfoIcons[0]?.image)">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <a class="nav-link" (click)="toggleTeams()">TEAMS <fa-icon [icon]="faArrowDown" class="d-inline-block">
                </fa-icon></a>
            <div [ngbCollapse]="isTeamsCollapsed" class="navbar-collapse-details">
                <div class="row py-0 px-3 py-lg-4 px-lg-5">
                    <div class="col-12 col-lg-4 col-xl-3">
                        <p class="title fw-800 fc-hover d-none d-lg-block">
                            TEAMS <span class="fc-first">AND ACHIEVEMENTS</span>
                        </p>
                        <ul class="list-unstyled">
                            <li class="text-left"><a class="standard-link" routerLink='/content-creators'>CONTENT
                                    CREATORS</a></li>
                            <li class="text-left"><a class="standard-link" routerLink='/teams/dota-2'>DOTA 2</a></li>
                            <li class="text-left"><a class="standard-link" routerLink='/teams/csgo'>COUNTER-STRIKE:
                                    GLOBAL OFFENSIVE</a></li>
                            <li class="text-left"><a class="standard-link" routerLink='/teams/league-of-legends'>LEAGUE
                                    OF LEGENDS</a></li>
                            <li class="text-left"><a class="standard-link" routerLink='/teams/warcraft-3'>WARCRAFT
                                    III</a></li>
                            <li class="text-left"><a class="standard-link" routerLink='/teams/fortnite'>FORTNITE</a>
                            </li>
                            <li class="text-left"><a class="standard-link"
                                    routerLink='/teams/heroes-of-the-storm'>HEROES OF THE STORM</a></li>
                            <li class="text-left"><a class="standard-link"
                                    routerLink='/teams/hearthstone'>HEARTHSTONE</a></li>
                        </ul>
                    </div>
                    <div class="col-9 col-lg-8 col-xl-8 wrapper-images d-none d-lg-block">
                        <div class="row pb-2 pt-4 pl-5">
                            <div class="wrapper-games">
                                <app-swappable-image class="game-image scale-small" href="/content-creators"
                                    firstSrc="assets/content-creators.jpg">
                                </app-swappable-image>
                                <app-swappable-image class="game-image scale-small" href='/teams/dota-2'
                                    firstSrc="assets/game-dota2.jpg">
                                </app-swappable-image>
                                <app-swappable-image class="game-image scale-small" href='/teams/csgo'
                                    firstSrc="assets/game-csgo.jpg">
                                </app-swappable-image>
                                <app-swappable-image class="game-image scale-small" href='/teams/league-of-legends'
                                    firstSrc="assets/game-lol.jpg">
                                </app-swappable-image>
                            </div>
                        </div>
                        <div class="row pb-2 pt-4 pl-5">
                            <div class="wrapper-games">
                                <app-swappable-image class="game-image scale-small" href='/teams/warcraft-3'
                                    firstSrc="assets/game-wc3.jpg">
                                </app-swappable-image>
                                <app-swappable-image class="game-image scale-small" href='/teams/fortnite'
                                    firstSrc="assets/game-fortnite.jpg">
                                </app-swappable-image>
                                <app-swappable-image class="game-image scale-small" href='/teams/heroes-of-the-storm'
                                    firstSrc="assets/game-hots.jpg"></app-swappable-image>
                                <app-swappable-image class="game-image scale-small" href='/teams/hearthstone'
                                    firstSrc="assets/game-hs.jpg">
                                </app-swappable-image>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <a class="nav-link" routerLink="/bootcamp">BOOTCAMP</a>
            <a class="nav-link" routerLink="/gaming-area">GAMING AREA</a> -->
            <a class="nav-link" routerLink="/partners">PARTNERS</a>
        </div>
        <div class="navbar-nav ml-auto">
            <a class="nav-link" (click)="toggleCart()">
                <fa-icon [icon]="faCart" class="d-inline-block"></fa-icon> CART
                <fa-icon [icon]="faArrowDown" class="d-inline-block"></fa-icon>
            </a>
            <div id="cartCollapse" [ngbCollapse]="isCartCollapsed" class="navbar-collapse-details">
                <ng-container *ngIf="cart.length > 0; else cartEmpty">
                    <div class="row py-0 px-3 pt-lg-4 pb-lg-1 px-lg-5">
                        <div class="col-12">
                            <cart-product-group [products]="cart"></cart-product-group>
                        </div>
                    </div>
                    <div class="row mt-2 px-3 px-lg-5 pb-lg-3">
                        <div class="col-12 d-flex flex-row-reverse pb-2">
                            <a class="standard-btn standard-btn-primary" style="padding-left: 3rem; padding-right: 3rem"
                                routerLink="/shop/checkout">checkout</a>
                        </div>
                    </div>
                </ng-container>
                <ng-template #cartEmpty>
                    <div class="row py-0 px-3 py-4">
                        <div class="col-12 text-center">
                            <div class="fs-big text-uppercase fw-700 fc-first">cart is empty</div>
                        </div>
                    </div>
                </ng-template>
            </div>
            <div *ngIf="currentUser === undefined || currentUser === null; else signedIn" ngbDropdown
                class="d-inline-block">
                <a class="nav-link" id="sign-in-dropdown-toggle" ngbDropdownToggle>SIGN IN <fa-icon [icon]="faArrowDown"
                        class="d-inline-block"></fa-icon></a>
                <div id="sign-in-dropdown" ngbDropdownMenu class="dropdown-menu dropdown-menu-right"
                    aria-labelledby="sign-in-dropdown">
                    <div class="px-4">user/user for a user account <br /> admin/admin for an admin account </div>
                    <form id="sign-in-form" class="px-3 py-2 w-100" #form="ngForm" (ngSubmit)="onSubmit()">
                        <div class="form-group">
                            <label for="email-signin">Email</label>
                            <input type="email" class="form-control" id="email-signin" name="email"
                                placeholder="email@example.com" [(ngModel)]="model.username" autocomplete="email" />
                        </div>
                        <div class="form-group">
                            <label for="password-signin">Password</label>
                            <input type="password" class="form-control" id="password-signin" name="password"
                                placeholder="Password" autocomplete="password" [(ngModel)]="model.password" />
                        </div>
                        <div class="form-group">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="remember_me" name="remember-me"
                                    [(ngModel)]="model.remembered" />
                                <label class="form-check-label" for="remember_me">Remember me</label>
                            </div>
                        </div>
                        <div [hidden]="!isInvalid" class="w-100 text-center sign-in-invalid">
                            Invalid email/password combination.
                        </div>
                        <button type="submit" class="standard-btn standard-btn-primary w-100">sign in</button>
                    </form>
                    <div class="d-flex flex-column mt-1 px-3">
                        <a class="standard-link" routerLink="/auth/reset-password">Forgot password?</a>
                        <a class="standard-link" routerLink="/auth/resend-verification">Resend verification email</a>
                    </div>
                </div>
            </div>
            <a *ngIf="currentUser === undefined || currentUser === null" class="nav-link" routerLink="/auth/signup">SIGN
                UP</a>
            <ng-template #signedIn>
                <div ngbDropdown class="d-inline-block">
                    <a class="nav-link text-uppercase" id="self-dropdown" ngbDropdownToggle>{{ currentUser.name }}
                        <fa-icon [icon]="faArrowDown" class="d-inline-block"></fa-icon>
                    </a>
                    <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right" aria-labelledby="self-dropdown">
                        <a *ngIf="currentUser" ngbDropdownItem class="dropdown-item"
                            routerLink="/dashboard">DASHBOARD</a>
                        <a *ngIf="currentUser && currentUser.role === 'ADMIN'" ngbDropdownItem class="dropdown-item"
                            routerLink="/admin/dashboard">ADMIN DASHBOARD</a>
                        <a ngbDropdownItem class="dropdown-item" routerLink="/shop/orders">ORDERS</a>
                        <div class="dropdown-divider d-none d-lg-block"></div>
                        <a ngbDropdownItem class="dropdown-item" (click)="logout()" routerLink="/">SIGN OUT</a>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</nav>